<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation for the Ivf2 C++ graphics library"><meta name=author content="Jonas Lindemann"><link href=../installation/ rel=prev><link href=../your_first_app/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.6.12"><title>Basic Concepts - Interactive Visual Framework 2</title><link rel=stylesheet href=../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=yellow data-md-color-accent=yellow> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#basic-concepts class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Interactive Visual Framework 2" class="md-header__button md-logo" aria-label="Interactive Visual Framework 2" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Interactive Visual Framework 2 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Basic Concepts </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=yellow data-md-color-accent=yellow aria-hidden=true type=radio name=__palette id=__palette_0> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../installation/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../core/nodes/ class=md-tabs__link> Core </a> </li> <li class=md-tabs__item> <a href=../../primitives/basic_primitives/ class=md-tabs__link> Primitives </a> </li> <li class=md-tabs__item> <a href=../../effects/blur/ class=md-tabs__link> Effects </a> </li> <li class=md-tabs__item> <a href=../../animation/basic_animation/ class=md-tabs__link> Animation </a> </li> <li class=md-tabs__item> <a href=../../ui/ui_windows/ class=md-tabs__link> UI </a> </li> <li class=md-tabs__item> <a href=../../advanced/shadows/ class=md-tabs__link> Advanced </a> </li> <li class=md-tabs__item> <a href=../../api/ivf/ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../examples/animation_examples/ class=md-tabs__link> Examples </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Interactive Visual Framework 2" class="md-nav__button md-logo" aria-label="Interactive Visual Framework 2" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Interactive Visual Framework 2 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Basic Concepts </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Basic Concepts </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#architectural-overview class=md-nav__link> <span class=md-ellipsis> Architectural Overview </span> </a> </li> <li class=md-nav__item> <a href=#scene-graph-system class=md-nav__link> <span class=md-ellipsis> Scene Graph System </span> </a> </li> <li class=md-nav__item> <a href=#rendering-pipeline class=md-nav__link> <span class=md-ellipsis> Rendering Pipeline </span> </a> </li> <li class=md-nav__item> <a href=#window-and-application-management class=md-nav__link> <span class=md-ellipsis> Window and Application Management </span> </a> </li> <li class=md-nav__item> <a href=#resource-management class=md-nav__link> <span class=md-ellipsis> Resource Management </span> </a> </li> <li class=md-nav__item> <a href=#core-design-patterns class=md-nav__link> <span class=md-ellipsis> Core Design Patterns </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../your_first_app/ class=md-nav__link> <span class=md-ellipsis> Your first Application </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Core </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../core/nodes/ class=md-nav__link> <span class=md-ellipsis> Nodes </span> </a> </li> <li class=md-nav__item> <a href=../../core/transforms/ class=md-nav__link> <span class=md-ellipsis> Transforms </span> </a> </li> <li class=md-nav__item> <a href=../../core/materials/ class=md-nav__link> <span class=md-ellipsis> Materials </span> </a> </li> <li class=md-nav__item> <a href=../../core/lighting/ class=md-nav__link> <span class=md-ellipsis> Lighting </span> </a> </li> <li class=md-nav__item> <a href=../../core/textures/ class=md-nav__link> <span class=md-ellipsis> Textures </span> </a> </li> <li class=md-nav__item> <a href=../../core/shaders/ class=md-nav__link> <span class=md-ellipsis> Shaders </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Primitives </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Primitives </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../primitives/basic_primitives/ class=md-nav__link> <span class=md-ellipsis> Basic Primitives </span> </a> </li> <li class=md-nav__item> <a href=../../primitives/complex_primitives/ class=md-nav__link> <span class=md-ellipsis> Complex Primitives </span> </a> </li> <li class=md-nav__item> <a href=../../primitives/text/ class=md-nav__link> <span class=md-ellipsis> Text </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Effects </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Effects </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../effects/blur/ class=md-nav__link> <span class=md-ellipsis> Blur </span> </a> </li> <li class=md-nav__item> <a href=../../effects/color_effects/ class=md-nav__link> <span class=md-ellipsis> Color Effects </span> </a> </li> <li class=md-nav__item> <a href=../../effects/film_effects/ class=md-nav__link> <span class=md-ellipsis> Film Effects </span> </a> </li> <li class=md-nav__item> <a href=../../effects/custom_effects/ class=md-nav__link> <span class=md-ellipsis> Custom Effects </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Animation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Animation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../animation/basic_animation/ class=md-nav__link> <span class=md-ellipsis> Basic Animation </span> </a> </li> <li class=md-nav__item> <a href=../../animation/spline_animation/ class=md-nav__link> <span class=md-ellipsis> Spline Animation </span> </a> </li> <li class=md-nav__item> <a href=../../animation/keyframe_animation/ class=md-nav__link> <span class=md-ellipsis> Keyframe Animation </span> </a> </li> <li class=md-nav__item> <a href=../../animation/lissajous/ class=md-nav__link> <span class=md-ellipsis> Lissajous </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> UI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> UI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ui/ui_windows/ class=md-nav__link> <span class=md-ellipsis> UI Windows </span> </a> </li> <li class=md-nav__item> <a href=../../ui/widgets/ class=md-nav__link> <span class=md-ellipsis> Widgets </span> </a> </li> <li class=md-nav__item> <a href=../../ui/scene_ui_integration/ class=md-nav__link> <span class=md-ellipsis> Scene UI Integration </span> </a> </li> <li class=md-nav__item> <a href=../../ui/custom_ui/ class=md-nav__link> <span class=md-ellipsis> Custom UI </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Advanced </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../advanced/shadows/ class=md-nav__link> <span class=md-ellipsis> Shadows </span> </a> </li> <li class=md-nav__item> <a href=../../advanced/model_loading/ class=md-nav__link> <span class=md-ellipsis> Model Loading </span> </a> </li> <li class=md-nav__item> <a href=../../advanced/selection/ class=md-nav__link> <span class=md-ellipsis> Selection </span> </a> </li> <li class=md-nav__item> <a href=../../advanced/visitor_pattern/ class=md-nav__link> <span class=md-ellipsis> Visitor Pattern </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../api/ivf/ class=md-nav__link> <span class=md-ellipsis> ivf Namespace </span> </a> </li> <li class=md-nav__item> <a href=../../api/ivfui/ class=md-nav__link> <span class=md-ellipsis> ivfui Namespace </span> </a> </li> <li class=md-nav__item> <a href=../../api/ivfmath/ class=md-nav__link> <span class=md-ellipsis> ivfmath Namespace </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_10> <label class=md-nav__link for=__nav_10 id=__nav_10_label tabindex=0> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../examples/animation_examples/ class=md-nav__link> <span class=md-ellipsis> Animation Examples </span> </a> </li> <li class=md-nav__item> <a href=../../examples/lighting_examples/ class=md-nav__link> <span class=md-ellipsis> Lighting Examples </span> </a> </li> <li class=md-nav__item> <a href=../../examples/effects_examples/ class=md-nav__link> <span class=md-ellipsis> Effects Examples </span> </a> </li> <li class=md-nav__item> <a href=../../examples/ui_examples/ class=md-nav__link> <span class=md-ellipsis> UI Examples </span> </a> </li> <li class=md-nav__item> <a href=../../examples/advanced_examples/ class=md-nav__link> <span class=md-ellipsis> Advanced Examples </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#architectural-overview class=md-nav__link> <span class=md-ellipsis> Architectural Overview </span> </a> </li> <li class=md-nav__item> <a href=#scene-graph-system class=md-nav__link> <span class=md-ellipsis> Scene Graph System </span> </a> </li> <li class=md-nav__item> <a href=#rendering-pipeline class=md-nav__link> <span class=md-ellipsis> Rendering Pipeline </span> </a> </li> <li class=md-nav__item> <a href=#window-and-application-management class=md-nav__link> <span class=md-ellipsis> Window and Application Management </span> </a> </li> <li class=md-nav__item> <a href=#resource-management class=md-nav__link> <span class=md-ellipsis> Resource Management </span> </a> </li> <li class=md-nav__item> <a href=#core-design-patterns class=md-nav__link> <span class=md-ellipsis> Core Design Patterns </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=basic-concepts>Basic concepts<a class=headerlink href=#basic-concepts title="Permanent link">&para;</a></h1> <p>The Ivf2 library is designed to be easy to use and integrate into your projects. This document provides an overview of the basic concepts and components of the library. It is recommended to read this document before diving into the examples and tutorials.</p> <h2 id=architectural-overview>Architectural Overview<a class=headerlink href=#architectural-overview title="Permanent link">&para;</a></h2> <p>The Ivf2 library is built around a modular architecture that allows for easy extension and customization. One of the key concepts is to abstract a lot of the OpenGL functionality into higher-level constructs, making it easier to work with. The library is designed to be flexible and extensible, allowing you to create complex applications with minimal effort.</p> <p>Ivf2 is not designed to be a game engine, but rather a graphics library that provides the necessary parts to implement interactive graphical applications. It is built on top of OpenGL and provides a higher-level interfaces for rendering, resource management, and window management.</p> <p>The library is also designed in a way that allows you to use OpenGL directly if you need to. This means that you can use Ivf2 to manage your resources and windowing, while still having the flexibility to use OpenGL directly for rendering if needed.</p> <p>The development of the library has also been a personal project for me to learn more about OpenGL and graphics programming. As such, the library is designed to be easy to use and understand, with a focus on providing a good developer experience. In this process I have also tried design it with modern C++ in mind, using features like smart pointers and RAII to manage resources and avoid memory leaks.</p> <p>Ivf2 is also designed to be cross-platform and works on Windows, macOS, and Linux. It uses CMake as its build system, making it easy to integrate into your projects.</p> <h2 id=scene-graph-system>Scene Graph System<a class=headerlink href=#scene-graph-system title="Permanent link">&para;</a></h2> <p>Ivf2 uses a scene graph system to manage the objects in your scene. The scene graph is a hierarchical structure that represents the objects in your scene and their relationships to each other. It allows you to organize your objects in a way that makes it easy to manage and render them.</p> <p>The scene graph system in Ivf2 is built around the concept of nodes, which represent the objects in your scene. All nodes in Ivf2 derives from the <code>Node</code> and <code>TransformNode</code> classes, which provide a common interface for all nodes such as orientation, assigning an id, setting a parent, setting visibility and other properties such as material and texture. Rendering of the node is implemented by derived classed in the <code>doPreDraw()</code>, <code>doDraw()</code> , and <code>doPostDraw()</code> methods. These methods are called when calling the <code>draw()</code> method on the node, allowing you to implement custom rendering logic for your nodes. The Node class should not be used directly, but rather as a base class for your own nodes. Position, rotation, and scaling is handled by the derived <code>Node</code> class <code>TransformNode</code> class. The <code>TransformNode</code> class provides methods for setting and getting the position, rotation, and scaling of the node. It also provides methods for converting between world and local coordinates.</p> <p>There are 4 types of nodes in the Ivf2 scene graph system:</p> <ul> <li><code>MeshNode</code>: Represents a mesh in the scene. It is used to render 3D models and can be used to create complex scenes with multiple meshes.</li> <li><code>CompositeNode</code> / <code>Transform</code>: Represents a group of nodes in the scene. It is used to create complex scenes with multiple nodes and can be used to create hierarchical structures.</li> <li><code>InstanceNode</code>: Represents an instance of a mesh in the scene. It is used to create multiple instances of a mesh with different transformations and properties.</li> <li><code>TextNode</code>: Represents a text in the scene. It is used to render text in the scene and can be used to create complex scenes with multiple text nodes.</li> </ul> <h2 id=rendering-pipeline>Rendering Pipeline<a class=headerlink href=#rendering-pipeline title="Permanent link">&para;</a></h2> <p>Ivf2 has no built-in rendering pipeline, but it provides a set of classes and functions that can be used to create your own rendering pipeline. The library provides a set of classes for managing shaders, textures, and materials, as well as a set of functions for rendering objects in the scene.</p> <p>Rendering with Ivf2 is usually done in to steps. In the first step, the setup stage, consists of initialising the shaders, textures, and other resources needed for rendering. This is usually done in the <code>onSetup()</code> method of the <code>GLFWWindow</code> class. We will go through the steps of the setup stage in the following sections.</p> <p>First we initialise a basic shader. Ivf2 provides a basic shader that implements most of the funcitonality required for rendering the Ivf2 nodes. The code below shows how this is done.</p> <div class=highlight><pre><span></span><code><span class=kt>int</span><span class=w> </span><span class=nf>onSetup</span><span class=p>()</span>
<span class=p>{</span>
<span class=w>    </span><span class=c1>// Load basic shaders</span>

<span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>shaderMgr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ShaderManager</span><span class=o>::</span><span class=n>instance</span><span class=p>();</span>
<span class=w>    </span><span class=n>shaderMgr</span><span class=o>-&gt;</span><span class=n>loadBasicShader</span><span class=p>();</span>

<span class=w>    </span><span class=c1>// Check for shader compilation errors</span>

<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>shaderMgr</span><span class=o>-&gt;</span><span class=n>compileLinkErrors</span><span class=p>())</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Couldn&#39;t compile shaders, exiting...&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>-1</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In all the examples in this chapter we have omitted the ivf namespace. The Ivf2 library is designed to be used with the <code>ivf</code> namespace, so all classes and functions in the library are prefixed with <code>ivf::</code>. In the examples we will use the <code>using namespace ivf;</code> directive to avoid having to prefix all classes and functions with <code>ivf::</code>. This is not recommended in production code, but it makes the examples easier to read.</p> </div> <p>The <code>ShaderManager</code> singleton class is used to manage the shaders in the library. It provides methods for loading and compiling shaders, as well as for checking for compilation errors. The <code>ShaderManager</code> class is a singleton, meaning that there is only one instance of it in the application. The <code>instance()</code> method of this class will always return the same instance of the class. The <code>loadBasicShader()</code> method loads the basic shader from the Ivf2 library. The <code>compileLinkErrors()</code> method checks for compilation errors in the shaders. If there are any errors, it will print them to the console and return true. If there are no errors, it will return false.</p> <p>In the next step we initialise scene lighting by using the <code>LightManager</code> class. The <code>LightManager</code> class is used to manage the lights in the scene. It provides methods for adding and removing lights, as well as for updating the lights in the scene. The <code>LightManager</code> class is also a singleton accessed by the <code>instance()</code> method. The code below shows how to add a light to the scene.</p> <div class=highlight><pre><span></span><code><span class=w>    </span><span class=c1>// Setup lighting</span>

<span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>lightMgr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LightManager</span><span class=o>::</span><span class=n>instance</span><span class=p>();</span>

<span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>pointLight1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>lightMgr</span><span class=o>-&gt;</span><span class=n>addPointLight</span><span class=p>();</span>
<span class=w>    </span><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setEnabled</span><span class=p>(</span><span class=nb>true</span><span class=p>);</span>
<span class=w>    </span><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setPosition</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>5.0</span><span class=p>,</span><span class=w> </span><span class=mf>5.0</span><span class=p>,</span><span class=w> </span><span class=mf>15.0</span><span class=p>));</span>

<span class=w>    </span><span class=n>lightMgr</span><span class=o>-&gt;</span><span class=n>apply</span><span class=p>();</span>
</code></pre></div> <p>The <code>addPointLight()</code> method adds a point light to the scene. The <code>setEnabled()</code> method enables or disables the light. The <code>setPosition()</code> method sets the position of the light in the scene. The <code>apply()</code> method updates the lights in the shader. The <code>LightManager</code> class also provides methods for adding and removing other types of lights, such as directional lights and spotlights.</p> <p>Next, we setup out scene nodes for rendering. In out example we are using a <code>CompositeNode</code> to represent the scene. The <code>CompositeNode</code> class is used to create a group of nodes in the scene to be rendered together. It can also be used to create complex scenes with multiple nodes and to create hierarchical structures. The code below shows how to create a <code>CompositeNode</code> and add a <code>Cube</code> node to it.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Variables in the examples prefixed with <code>m_</code> are member variables of the <code>GLFWWindow</code> derived class. </p> </div> <div class=highlight><pre><span></span><code><span class=w>    </span><span class=c1>// Setup scene</span>

<span class=w>    </span><span class=n>m_scene</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>CompositeNode</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>

<span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Cube</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>

<span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>material</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Material</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<span class=w>    </span><span class=n>material</span><span class=o>-&gt;</span><span class=n>setDiffuseColor</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec4</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span>
<span class=w>    </span><span class=n>material</span><span class=o>-&gt;</span><span class=n>setAmbientColor</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec4</span><span class=p>(</span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span>

<span class=w>    </span><span class=n>node</span><span class=o>-&gt;</span><span class=n>setPos</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>));</span>
<span class=w>    </span><span class=n>node</span><span class=o>-&gt;</span><span class=n>setMaterial</span><span class=p>(</span><span class=n>material</span><span class=p>);</span>

<span class=w>    </span><span class=n>m_scene</span><span class=o>-&gt;</span><span class=n>add</span><span class=p>(</span><span class=n>node</span><span class=p>);</span>
</code></pre></div> <p>In the code above we create a <code>Cube</code> node and set its position and material. The <code>Cube</code> class is a derived class of the <code>MeshNode</code> class, which is used to render 3D models in the scene. The <code>Material</code> class is used to set the material properties of the node, such as the diffuse and ambient colors. The <code>setPos()</code> method sets the position of the node in the scene. </p> <p>Finally, we setup our camera for rendering. The camera is used to view the scene and is usually implemented as a separate class. The code below shows how to create a camera and set its position and orientation.</p> <div class=highlight><pre><span></span><code><span class=w>    </span><span class=c1>// Setup camera</span>

<span class=w>    </span><span class=n>m_camera</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Camera</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<span class=w>    </span><span class=n>m_camera</span><span class=o>-&gt;</span><span class=n>setPosition</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>-3.0</span><span class=p>,</span><span class=w> </span><span class=mf>3.0</span><span class=p>,</span><span class=w> </span><span class=mf>3.0</span><span class=p>));</span>
<span class=w>    </span><span class=n>m_camera</span><span class=o>-&gt;</span><span class=n>setTarget</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>));</span>
<span class=w>    </span><span class=n>m_camera</span><span class=o>-&gt;</span><span class=n>setUp</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>));</span>
<span class=w>    </span><span class=n>m_camera</span><span class=o>-&gt;</span><span class=n>setPerspective</span><span class=p>(</span><span class=mf>45.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.1f</span><span class=p>,</span><span class=w> </span><span class=mf>100.0f</span><span class=p>);</span>
<span class=w>    </span><span class=n>m_camera</span><span class=o>-&gt;</span><span class=n>setViewport</span><span class=p>(</span><span class=k>this</span><span class=o>-&gt;</span><span class=n>width</span><span class=p>(),</span><span class=w> </span><span class=k>this</span><span class=o>-&gt;</span><span class=n>height</span><span class=p>());</span>
</code></pre></div> <p>Finally we are ready to render our scene. The rendering is done in the <code>onDraw()</code> method of the <code>GLFWWindow</code> class. The code below shows how to render the scene.</p> <div class=highlight><pre><span></span><code><span class=kt>void</span><span class=w> </span><span class=nf>onDraw</span><span class=p>()</span>
<span class=p>{</span>
<span class=w>    </span><span class=n>glClearColor</span><span class=p>(</span><span class=mf>0.07f</span><span class=p>,</span><span class=w> </span><span class=mf>0.13f</span><span class=p>,</span><span class=w> </span><span class=mf>0.17f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>);</span>
<span class=w>    </span><span class=n>glClear</span><span class=p>(</span><span class=n>GL_COLOR_BUFFER_BIT</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>GL_DEPTH_BUFFER_BIT</span><span class=p>);</span>

<span class=w>    </span><span class=n>m_scene</span><span class=o>-&gt;</span><span class=n>draw</span><span class=p>();</span>
<span class=p>}</span>
</code></pre></div> <p>This was a high level overview of the rendering pipeline in Ivf2. The idea is to provide easy to use classes and functions that can be used to create a rendering pipeline that fits your needs, without having to worry about the low level details of OpenGL. </p> <h2 id=window-and-application-management>Window and Application Management<a class=headerlink href=#window-and-application-management title="Permanent link">&para;</a></h2> <p>The Ivf2 library provides a set of classes based on GLFW for managing windows and applications. The <code>GLFWWindow</code> class is the main class for managing windows and provides methods for creating, destroying, and managing windows. It also provides methods for handling input events, such as keyboard and mouse events.</p> <p>To implement your own application, you first need to implement a class that derives from the <code>GLFWWindow</code> class. In this class you will need to implement/override the <code>onSetup()</code>, <code>onDraw()</code>, and <code>onKey()</code> virtual methods to handle the setup, rendering, and input events for your application. The <code>onSetup()</code> method is called once when the window is created and is used to setup the scene and resources needed for rendering. You can expect to have a rendering context available when this method is called. The <code>onDraw()</code> method is called when the window needs to be redrawn and is used to render the scene. The <code>onKey()</code> method is called when a key is pressed or released and is used to handle input events. The following shows a simple example of a class that derives from the <code>GLFWWindow</code> class.</p> <div class=highlight><pre><span></span><code><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivf/gl.h&gt;</span>
<span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivf/nodes.h&gt;</span>
<span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;ivfui/ui.h&gt;</span>

<span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>ivf</span><span class=p>;</span>
<span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>ivfui</span><span class=p>;</span>
<span class=k>using</span><span class=w> </span><span class=k>namespace</span><span class=w> </span><span class=nn>std</span><span class=p>;</span>

<span class=k>class</span><span class=w> </span><span class=nc>ExampleWindow</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=k>public</span><span class=w> </span><span class=n>GLFWWindow</span><span class=w> </span><span class=p>{</span>
<span class=k>private</span><span class=o>:</span>
<span class=w>    </span><span class=n>CompositeNodePtr</span><span class=w> </span><span class=n>m_scene</span><span class=p>;</span>
<span class=w>    </span><span class=n>CameraPtr</span><span class=w> </span><span class=n>m_camera</span><span class=p>;</span>

<span class=k>public</span><span class=o>:</span>
<span class=w>    </span><span class=n>ExampleWindow</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=w> </span><span class=n>title</span><span class=p>)</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>GLFWWindow</span><span class=p>(</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=n>title</span><span class=p>)</span>
<span class=w>    </span><span class=p>{}</span>

<span class=w>    </span><span class=k>static</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>ExampleWindow</span><span class=o>&gt;</span><span class=w> </span><span class=n>create</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=w> </span><span class=n>title</span><span class=p>)</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>make_shared</span><span class=o>&lt;</span><span class=n>ExampleWindow</span><span class=o>&gt;</span><span class=p>(</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>,</span><span class=w> </span><span class=n>title</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>onSetup</span><span class=p>()</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=c1>// Load basic shaders</span>

<span class=w>        </span><span class=k>auto</span><span class=w> </span><span class=n>shaderMgr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ShaderManager</span><span class=o>::</span><span class=n>instance</span><span class=p>();</span>
<span class=w>        </span><span class=n>shaderMgr</span><span class=o>-&gt;</span><span class=n>loadBasicShader</span><span class=p>();</span>

<span class=w>        </span><span class=c1>// Check for shader compilation errors</span>

<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>shaderMgr</span><span class=o>-&gt;</span><span class=n>compileLinkErrors</span><span class=p>())</span>
<span class=w>        </span><span class=p>{</span>
<span class=w>            </span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;Couldn&#39;t compile shaders, exiting...&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>endl</span><span class=p>;</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=mi>-1</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>

<span class=w>        </span><span class=c1>// Setup lighting</span>

<span class=w>        </span><span class=k>auto</span><span class=w> </span><span class=n>lightMgr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LightManager</span><span class=o>::</span><span class=n>instance</span><span class=p>();</span>

<span class=w>        </span><span class=k>auto</span><span class=w> </span><span class=n>pointLight1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>lightMgr</span><span class=o>-&gt;</span><span class=n>addPointLight</span><span class=p>();</span>
<span class=w>        </span><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setEnabled</span><span class=p>(</span><span class=nb>true</span><span class=p>);</span>
<span class=w>        </span><span class=n>pointLight1</span><span class=o>-&gt;</span><span class=n>setPosition</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>5.0</span><span class=p>,</span><span class=w> </span><span class=mf>5.0</span><span class=p>,</span><span class=w> </span><span class=mf>15.0</span><span class=p>));</span>

<span class=w>        </span><span class=n>lightMgr</span><span class=o>-&gt;</span><span class=n>apply</span><span class=p>();</span>

<span class=w>        </span><span class=c1>// Setup scene</span>

<span class=w>        </span><span class=n>m_scene</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>CompositeNode</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>

<span class=w>        </span><span class=k>auto</span><span class=w> </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Cube</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>

<span class=w>        </span><span class=k>auto</span><span class=w> </span><span class=n>material</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Material</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<span class=w>        </span><span class=n>material</span><span class=o>-&gt;</span><span class=n>setDiffuseColor</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec4</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span>
<span class=w>        </span><span class=n>material</span><span class=o>-&gt;</span><span class=n>setAmbientColor</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec4</span><span class=p>(</span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span>

<span class=w>        </span><span class=n>node</span><span class=o>-&gt;</span><span class=n>setPos</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>));</span>
<span class=w>        </span><span class=n>node</span><span class=o>-&gt;</span><span class=n>setMaterial</span><span class=p>(</span><span class=n>material</span><span class=p>);</span>

<span class=w>        </span><span class=n>m_scene</span><span class=o>-&gt;</span><span class=n>add</span><span class=p>(</span><span class=n>node</span><span class=p>);</span>

<span class=w>        </span><span class=c1>// Setup camera</span>

<span class=w>        </span><span class=n>m_camera</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Camera</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<span class=w>        </span><span class=n>m_camera</span><span class=o>-&gt;</span><span class=n>setPosition</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>-3.0</span><span class=p>,</span><span class=w> </span><span class=mf>3.0</span><span class=p>,</span><span class=w> </span><span class=mf>3.0</span><span class=p>));</span>
<span class=w>        </span><span class=n>m_camera</span><span class=o>-&gt;</span><span class=n>setTarget</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>));</span>
<span class=w>        </span><span class=n>m_camera</span><span class=o>-&gt;</span><span class=n>setUp</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>));</span>
<span class=w>        </span><span class=n>m_camera</span><span class=o>-&gt;</span><span class=n>setPerspective</span><span class=p>(</span><span class=mf>45.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.1f</span><span class=p>,</span><span class=w> </span><span class=mf>100.0f</span><span class=p>);</span>

<span class=w>        </span><span class=n>m_camera</span><span class=o>-&gt;</span><span class=n>setViewport</span><span class=p>(</span><span class=k>this</span><span class=o>-&gt;</span><span class=n>width</span><span class=p>(),</span><span class=w> </span><span class=k>this</span><span class=o>-&gt;</span><span class=n>height</span><span class=p>());</span>

<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>onDraw</span><span class=p>()</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=n>glClearColor</span><span class=p>(</span><span class=mf>0.07f</span><span class=p>,</span><span class=w> </span><span class=mf>0.13f</span><span class=p>,</span><span class=w> </span><span class=mf>0.17f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>);</span>
<span class=w>        </span><span class=n>glClear</span><span class=p>(</span><span class=n>GL_COLOR_BUFFER_BIT</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>GL_DEPTH_BUFFER_BIT</span><span class=p>);</span>

<span class=w>        </span><span class=n>m_scene</span><span class=o>-&gt;</span><span class=n>draw</span><span class=p>();</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>onResize</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>height</span><span class=p>)</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=n>m_camera</span><span class=o>-&gt;</span><span class=n>setViewport</span><span class=p>(</span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>The event loop and window management is handled by the <code>GLFWApplication</code> class. This class is a simple wrapper around the GLFW library and provides a simple interface for creating and managing windows. The event loop is implemented in the <code>loop()</code> method of the <code>GLFWApplication</code> class. The <code>run()</code> method creates a window and enters the event loop, handling input events and rendering the scene. It is also in the <code>GLFWApplication</code> class that you setup what OpenGL version and attributes you want to use. The code below shows how to create a window and enter the event loop.</p> <div class=highlight><pre><span></span><code><span class=k>typedef</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>ExampleWindow</span><span class=o>&gt;</span><span class=w> </span><span class=n>ExampleWindowPtr</span><span class=p>;</span>

<span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
<span class=w>    </span><span class=c1>// Create a FLFW application instance</span>

<span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>app</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>GLFWApplication</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>

<span class=w>    </span><span class=c1>// Set GLFW hints for OpenGL version and profile</span>

<span class=w>    </span><span class=n>app</span><span class=o>-&gt;</span><span class=n>hint</span><span class=p>(</span><span class=n>GLFW_CONTEXT_VERSION_MAJOR</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span>
<span class=w>    </span><span class=n>app</span><span class=o>-&gt;</span><span class=n>hint</span><span class=p>(</span><span class=n>GLFW_CONTEXT_VERSION_MINOR</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span>
<span class=w>    </span><span class=n>app</span><span class=o>-&gt;</span><span class=n>hint</span><span class=p>(</span><span class=n>GLFW_OPENGL_PROFILE</span><span class=p>,</span><span class=w> </span><span class=n>GLFW_OPENGL_CORE_PROFILE</span><span class=p>);</span>
<span class=w>    </span><span class=n>app</span><span class=o>-&gt;</span><span class=n>hint</span><span class=p>(</span><span class=n>GLFW_SAMPLES</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>);</span>

<span class=w>    </span><span class=c1>// Create our example window</span>

<span class=w>    </span><span class=k>auto</span><span class=w> </span><span class=n>window</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ExampleWindow</span><span class=o>::</span><span class=n>create</span><span class=p>(</span><span class=mi>800</span><span class=p>,</span><span class=w> </span><span class=mi>800</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Hello, ivf2&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=n>window</span><span class=o>-&gt;</span><span class=n>maximize</span><span class=p>();</span>

<span class=w>    </span><span class=c1>// Add window to application instance</span>

<span class=w>    </span><span class=n>app</span><span class=o>-&gt;</span><span class=n>addWindow</span><span class=p>(</span><span class=n>window</span><span class=p>);</span>

<span class=w>    </span><span class=c1>// Enter application loop. This will block until the application is closed.</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>app</span><span class=o>-&gt;</span><span class=n>loop</span><span class=p>();</span>
<span class=p>}</span>
</code></pre></div> <p>The <code>GLFWApplication</code> class and <code>GLFWWindow</code> class are implemented in the <code>imgui</code> library. This library also contains the user interface classes for implementing ImGui windows and menus. </p> <h2 id=resource-management>Resource Management<a class=headerlink href=#resource-management title="Permanent link">&para;</a></h2> <p>Ivf2 doesn't implement a resource management system, but it provides a set of classes and functions that can be used to manage resources in your application. The library provides a set of classes for managing shaders, textures, and materials, as well as a set of functions for loading and saving resources.</p> <p>Shared are used extensively in the library to manage resources. The <code>std::shared_ptr</code> class is used to manage the lifetime of objects in the library. This means that you don't have to worry about memory management and can focus on implementing your application logic. The <code>std::shared_ptr</code> class is a smart pointer that manages the lifetime of an object and automatically deletes it when it is no longer needed. This means that you don't have to worry about memory leaks and can focus on implementing your application logic.</p> <p>The main principle is that you use the <code>onSetup()</code> method to load and setup your resources, and the <code>onDraw()</code> method to render your scene. The <code>onSetup()</code> method is called once when the window is created and is used to setup the scene and resources needed for rendering. The main window class will be responsible for maintaining the scene with its attached resources. </p> <p>Using a <code>CompositeNode</code> as the main scene node is a good way to manage your resources. Materials and textures can be creates and assigned to the nodes in the scene. As they are shared pointers, they will be automatically deleted when they are no longer needed. This means that you don't have to worry about memory management and can focus on implementing your application logic. When the scene is destroyed, all the resources will be automatically deleted. </p> <h2 id=core-design-patterns>Core Design Patterns<a class=headerlink href=#core-design-patterns title="Permanent link">&para;</a></h2> <p>As Ivf2 uses shared pointers extensively, it is important to understand how they work and how to use them correctly. The library uses the RAII (Resource Acquisition Is Initialization) pattern to manage resources. This means that resources are acquired and released in the constructor and destructor of the class. This ensures that resources are always released when they are no longer needed and avoids memory leaks.</p> <p>To make it easier to use shared pointers, all the classes in the library have a special <code>create()</code> method that returns a shared pointer to the class. This method is used to create instances of the class and ensures that the class is always created with a shared pointer. The <code>create()</code> method is a static method that returns a shared pointer to the class. You don't have to call <code>std::make_shared()</code> yourself, as the <code>create()</code> method will do that for you. This makes it easier to create instances of the class and avoids memory leaks. Most of the examples in this documentation will use the <code>create()</code> method to create instances of the class. In the following example we create a <code>Cube</code> node and set its position and material using the <code>create()</code> method.</p> <div class=highlight><pre><span></span><code><span class=k>auto</span><span class=w> </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Cube</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
<span class=k>auto</span><span class=w> </span><span class=n>material</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Material</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>

<span class=n>material</span><span class=o>-&gt;</span><span class=n>setDiffuseColor</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec4</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span>
<span class=n>material</span><span class=o>-&gt;</span><span class=n>setAmbientColor</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec4</span><span class=p>(</span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=mf>0.1</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>));</span>
<span class=n>node</span><span class=o>-&gt;</span><span class=n>setPos</span><span class=p>(</span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>));</span>
<span class=n>node</span><span class=o>-&gt;</span><span class=n>setMaterial</span><span class=p>(</span><span class=n>material</span><span class=p>);</span>
</code></pre></div> <p>All classes in the library also provide typedefs for the shared pointers to the class. This makes it easier to use shared pointers and avoids having to type <code>std::shared_ptr</code> all the time. The typedefs are usually named <code>ClassNamePtr</code>, where <code>ClassName</code> is the name of the class. For example, the <code>Cube</code> class has a typedef named <code>CubePtr</code>, which is a shared pointer to the <code>Cube</code> class. You can use this typedef to create shared pointers to the <code>Cube</code> class without having to type <code>std::shared_ptr&lt;Cube&gt;</code> all the time.</p> <div class=highlight><pre><span></span><code><span class=k>typedef</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Cube</span><span class=o>&gt;</span><span class=w> </span><span class=n>CubePtr</span><span class=p>;</span>
</code></pre></div> <p>For example a class attribute for a <code>CompositeNode</code> can be declared as follows:</p> <div class=highlight><pre><span></span><code><span class=n>CompositeNodePtr</span><span class=w> </span><span class=n>m_scene</span><span class=p>;</span>
</code></pre></div> <p>When creating references to classes in the library in most cases you can also use the <code>auto</code> keyword to automatically deduce the type of the variable. This makes it easier to write code and avoids having to type the full type of the variable. For example, you can create a shared pointer to a <code>Cube</code> class as follows:</p> <div class=highlight><pre><span></span><code><span class=k>auto</span><span class=w> </span><span class=n>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Cube</span><span class=o>::</span><span class=n>create</span><span class=p>();</span>
</code></pre></div> <p>This will automatically deduce the type of the variable to be <code>CubePtr</code>, which is a shared pointer to the <code>Cube</code> class. This makes it easier to write code and avoids having to type the full type of the variable.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.expand", "navigation.instant", "navigation.tracking", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> </body> </html>